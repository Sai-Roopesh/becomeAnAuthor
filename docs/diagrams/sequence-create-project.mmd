sequenceDiagram
    actor User
    participant Dialog as CreateProjectDialog
    participant Form as react-hook-form
    participant Repo as TauriProjectRepository
    participant IPC as Tauri IPC
    participant Backend as Rust: create_project
    participant Utils as utils::text
    participant Seed as seed::seed_built_in_data
    participant Filesystem as Filesystem
    participant Registry as project_registry.json
    
    User->>Dialog: Fill form (title, author)
    User->>Dialog: Click "Create"
    Dialog->>Form: handleSubmit()
    Form->>Repo: create(projectData)
    Repo->>IPC: invoke('create_project', {...})
    IPC->>Backend: create_project command
    Backend->>Utils: slugify(title)
    Utils-->>Backend: slug
    Backend->>Backend: Generate UUID
    Backend->>Filesystem: Create directory structure
    Note over Filesystem: .meta/, manuscript/,<br/>codex/, snippets/, analyses/
    Filesystem-->>Backend: Created
    Backend->>Filesystem: Write .meta/project.json
    Backend->>Filesystem: Write .meta/structure.json (empty)
    Backend->>Seed: seed_built_in_data(projectPath)
    Seed->>Filesystem: Write codex_templates.json
    Seed->>Filesystem: Write codex_relation_types.json
    Filesystem-->>Seed: Success
    Seed-->>Backend: Success
    Backend->>Registry: Add project path
    Registry-->>Backend: Success
    Backend-->>IPC: Result<ProjectMeta>
    IPC-->>Repo: ProjectMeta
    Repo->>Repo: invalidateQueries()
    Repo-->>Dialog: Success
    Dialog->>Dialog: Close dialog
    Dialog->>User: Navigate to project
    Note over User,Dialog: Project created âœ…
